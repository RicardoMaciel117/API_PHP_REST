<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="js/jquery.js"></script>
        <title></title>
        
    </head>
    <body>
        
        
        <table id="booksTable" class="table">
            <thead>
                <tr>
                    <th>Titulo</th>
                    <th>Id_Autor</th>
                    <th>Id_Genero</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        
        <input type="button" name="" id="loadBooks" value="Cargar libros" />
        <div style="display: none;" id="messages">
            <p></p>
        </div>
        <div style="display: block;" id="bookForm">
            <hr/>
            
            <table>
                <tr>
                    <td>Titulo:</td>
                    <td><input type="text" name="bookTitle" id="bookTitle" value="" /></td>
                </tr>
                <tr>
                    <td>Id Autor: </td>
                    <td><input type="text" name="bookIdAuthor" id="bookIdAuthor" value="" /></td>
                </tr>
                
                <tr>
                    <td>Id Genero: </td>
                    <td><input type="text" name="bookIdGenre" id="bookIdGenre" value="" /></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="button" name="" id="bookSave" value="Guardar" /></td>
                </tr>
            </table>
            
        </div>
        
        
        
        
        
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <script>
        
        $("#loadBooks").click(function(){
            const messages = $("#messages");
            messages.first('p').text('Cargando libros');
            messages.show();
            
            $.ajax({
                'url': 'http://localhost:8000/books',
                'success': function( data ){
                    console.log(data);
                    messages.hide();
                    $("#booksTable > tbody").empty();
                    for(b in data){
                        addBook( data[b] );
                    }
                    $("#bookForm").show();
                }
            });
            
        });
        
        function addBook(book){
            $("#booksTable tr:last").after('<tr><td>' + book.title + '</td><td>' + book.id_author + '</td><td>' + book.id_book + '</td><tr>');
        }
        
        
    </script>
    
    </body>
</html>